"use strict";THREE.DRACOExporter=function(){},THREE.DRACOExporter.prototype={constructor:THREE.DRACOExporter,parse:function(e,r){if(void 0===DracoEncoderModule)throw new Error("THREE.DRACOExporter: required the draco_decoder to work.");void 0===r&&(r={decodeSpeed:5,encodeSpeed:5,encoderMethod:THREE.DRACOExporter.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1});var t=DracoEncoderModule(),o=new t.Encoder,E=new t.MeshBuilder,i=new t.Mesh;if(!0===e.isGeometry&&((d=new THREE.BufferGeometry).fromGeometry(e),e=d),!0!==e.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.Geometry or THREE.BufferGeometry instance.");var n,d=e.getAttribute("position");if(E.AddFloatAttributeToMesh(i,t.POSITION,d.count,d.itemSize,d.array),null!==(a=e.getIndex()))E.AddFacesToMesh(i,a.count/3,a.array);else{for(var a=new(65535<d.count?Uint32Array:Uint16Array)(d.count),R=0;R<a.length;R++)a[R]=R;E.AddFacesToMesh(i,d.count,a)}!0!==r.exportNormals||void 0!==(n=e.getAttribute("normal"))&&E.AddFloatAttributeToMesh(i,t.NORMAL,n.count,n.itemSize,n.array),!0===r.exportUvs&&(void 0!==(n=e.getAttribute("uv"))&&E.AddFloatAttributeToMesh(i,t.TEX_COORD,n.count,n.itemSize,n.array),void 0!==(n=e.getAttribute("uv2"))&&E.AddFloatAttributeToMesh(i,t.TEX_COORD,n.count,n.itemSize,n.array)),!0!==r.exportColor||void 0!==(e=e.getAttribute("color"))&&E.AddFloatAttributeToMesh(i,t.COLOR,e.count,e.itemSize,e.array);var A=new t.DracoInt8Array;if(o.SetSpeedOptions(r.encodeSpeed||5,r.decodeSpeed||5),void 0!==r.encoderMethod&&o.SetEncodingMethod(r.encoderMethod),void 0!==r.quantization)for(R=0;R<5;R++)void 0!==r.quantization[R]&&o.SetAttributeQuantization(R,r.quantization[R]);var u=o.EncodeMeshToDracoBuffer(i,A);if(t.destroy(i),0===u)throw new Error("THREE.DRACOExporter: Draco encoding failed.");for(var O=new Int8Array(new ArrayBuffer(u)),R=0;R<u;R++)O[R]=A.GetValue(R);return t.destroy(A),t.destroy(o),t.destroy(E),O}},THREE.DRACOExporter.MESH_EDGEBREAKER_ENCODING=1,THREE.DRACOExporter.MESH_SEQUENTIAL_ENCODING=0,THREE.DRACOExporter.POINT_CLOUD=0,THREE.DRACOExporter.TRIANGULAR_MESH=1,THREE.DRACOExporter.INVALID=-1,THREE.DRACOExporter.POSITION=0,THREE.DRACOExporter.NORMAL=1,THREE.DRACOExporter.COLOR=2,THREE.DRACOExporter.TEX_COORD=3,THREE.DRACOExporter.GENERIC=4;